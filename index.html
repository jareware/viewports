<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, height=device-height" />
    <title>viewports.scss</title>
    <link rel="stylesheet" type="text/css" href="index.css" />
</head>
<body>

    <h1>viewports.scss</h1>
    <p>This is a test page for the media queries provided.</p>

    <h2>Configured viewport ranges</h2>
    <div id="current-width">
        <div id="width-cursor"></div>
    </div>
    <ul id="current-class"></ul>

    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

    <script>
        $(function() {

            var NAME   = 0; // key to below table
            var WIDTH  = 1; // key to below table
            var CONFIG = [
                [ 'tiny',    480 ],
                [ 'small',   768 ],
                [ 'medium', 1024 ],
                [ 'large'        ]
            ];

            var maxWidth = Math.max.apply(Math, CONFIG.map(function(range) {
                return range[WIDTH] || 0;
            }));

            var deltas = CONFIG.map(function(range, index) {
                return range[WIDTH] - (index > 0 ? CONFIG[index - 1][WIDTH] : 0);
            }).slice(0, -1); // drop the last NaN

            var sliceAvg = deltas.reduce(function(memo, width) {
                return memo + width;
            }, 0) / CONFIG.length;

            $('#current-class').append(CONFIG.map(function(range, index) {
                var width = ((deltas[index] || sliceAvg) * 100 / (maxWidth + sliceAvg)) + '%';
                return $('<li>').css({ width: width }).append(
                    $('<div>').text(range[WIDTH] ? range[WIDTH] + 'px' : ''),
                    $('<div>').text('"' + range[NAME] + '"')
                );
            }));

            var $widthCursor = $('#current-width > div');

            function updateCurrentWidth() {
                $widthCursor
                    .text(window.innerWidth + 'px')
                    .css({ left: ((window.innerWidth + 2) * 100 / (maxWidth + sliceAvg)) + '%' }); // 2 compensates for "pegs" in the visu
            }

            window.onresize = updateCurrentWidth;
            updateCurrentWidth();

        });
    </script>

</body>
</html>
